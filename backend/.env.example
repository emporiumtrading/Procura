# ===========================================
# Procura Backend Environment Variables
# Copy this to .env and fill in your values
# ===========================================

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_ANON_KEY=your-anon-key

# Redis Configuration (for Celery)
REDIS_URL=redis://localhost:6379/0

# API Keys - Discovery Sources
GOVCON_API_KEY=your-govcon-api-key
SAM_GOV_API_KEY=your-sam-gov-api-key
GRANTS_GOV_API_KEY=
USASPENDING_API_KEY=

# LLM Provider Configuration
# Options: google (free tier via Gemini), anthropic, openai
# Start with google for free testing; upgrade to anthropic for best proposal quality
PROCURA_LLM_PROVIDER=google
GOOGLE_API_KEY=your-gemini-api-key   # Get free key at: https://aistudio.google.com/apikey
ANTHROPIC_API_KEY=                   # Optional: for production-quality proposals
OPENAI_API_KEY=                      # Optional: alternative provider

# LLM Settings
# Model auto-selected based on provider if not specified:
#   google   → gemini-2.0-flash
#   anthropic → claude-3-5-sonnet-20241022
#   openai   → gpt-4o
LLM_MODEL=gemini-2.0-flash
LLM_MAX_TOKENS=2048
LLM_TEMPERATURE=0.3

# Security Keys (GENERATE NEW ONES FOR PRODUCTION)
# Generate vault key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
VAULT_ENCRYPTION_KEY=your-32-byte-base64-fernet-key
# Generate audit key: python -c "import secrets; print(secrets.token_hex(32))"
AUDIT_SIGNING_KEY=your-hmac-signing-secret

# OpenManus Configuration
OPENMANUS_API_URL=http://localhost:8080
OPENMANUS_API_KEY=
OPENMANUS_TIMEOUT_SECONDS=300

# News Feed
NEWS_API_KEY=
NEWS_API_BASE=https://newsapi.org/v2

# Application Settings
ENVIRONMENT=development       # development | staging | production
DEBUG=true                    # false in production (disables /docs)
LOG_LEVEL=INFO
PORT=8001

# CORS (comma-separated origins)
# Add your Vercel deployment URL here for production
PROCURA_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://procura-eight.vercel.app

# Rate Limiting (per IP per minute, Redis-backed in production)
RATE_LIMIT_PER_MINUTE=100

# Discovery Settings
DISCOVERY_DEFAULT_INTERVAL_MINUTES=15
DISCOVERY_MAX_RETRIES=3

# ===========================================
# Docker / Production Overrides
# ===========================================
# When using docker-compose, REDIS_URL is set automatically to redis://redis:6379/0
# Set ENVIRONMENT=production to enable:
#   - Redis-backed rate limiting
#   - Disable /docs and /redoc
#   - Generic error messages (no stack traces)
